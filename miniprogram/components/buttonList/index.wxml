<!--components/buttonList/index.wxml-->
<view class="button-list">
  <json-tree
    id="json-tree"
    wx:if="{{showResId != ''}}"
    jsonData="{{list[showResId].callbackRes}}"
    isShowRes="{{isShowRes}}"
    bind:closeRes="closeRes"
  ></json-tree>
  <view class="api-page-btn-area" wx:for="{{listKey}}" wx:key="index">
    <view class="api-textarea-area">
      <textarea
        class="api-input-area {{!list[item].inputData || list[item].hideTextarea ? 'api-input-area-hidden' : ''}}"
        maxlength="{{-1}}"
        value="{{list[item].inputData}}"
        bindinput="changeData"
        data-id="{{item}}"
        id="{{item}}-input"
      />
    </view>
    <view class="btn-area">
      <view class="api-page-btn {{list[item].isDone ? '' : 'api-page-btn-uncreate'}}" bindtap="APITrigger" data-id="{{item}}" id="{{item}}">
        {{item}}
        <callback-contents callbackRes="{{list[item].callbackRes}}" testAPI="{{item}}"/>
      </view>
      <view class="textarea-control">
        <image class="control-icon {{!list[item].inputData ? 'control-icon-hidden': ''}} {{list[item].hideTextarea ? 'textarea-hidden' : ''}}" src="./image/close.png" bindtap="hideTextarea" data-id="{{item}}"></image>
      </view>
      <view class="show-res-btn" bindtap="showRes" data-id="{{item}}">显示结果</view>
    </view>
  </view>
  <!-- <view class="api-page-btn-area" wx:for="{{list}}" wx:key="id">
    <view class="api-textarea-area">
      <textarea
        class="api-input-area {{!item.inputData || item.hideTextarea ? 'api-input-area-hidden' : ''}}"
        maxlength="{{-1}}"
        value="{{item.inputData}}"
        bindinput="changeData"
        data-id="{{index}}"
        id="{{index}}-input"
      />
    </view>
    <view class="btn-area">
      <button class="api-page-btn" bindtap="APITrigger" data-id="{{index}}" id="{{index}}">
        {{index}}
        <callback-contents callbackRes="{{item.callbackRes}}" testAPI="{{index}}"/>
      </button>
      <view class="textarea-control">
        <image class="control-icon {{!item.inputData ? 'control-icon-hidden': ''}} {{item.hideTextarea ? 'textarea-hidden' : ''}}" src="./image/close.png" bindtap="hideTextarea" data-id="{{index}}"></image>
      </view>
      <button class="show-res-btn" bindtap="showRes" data-id="{{index}}">showRes</button>
    </view>
  </view> -->
</view>